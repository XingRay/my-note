# 手动安装Comfyui

1 创建工作目录  `comfyui_github_py312`



2 下载 `comfyui`

```shell
git clone git@github.com:comfyanonymous/ComfyUI.git
```



3 下载`python`

这里以 `python` 3.12.10 为例：

下载页： https://www.python.org/downloads/release/python-31210/

下载python包

https://www.python.org/ftp/python/3.12.10/python-3.12.10-embed-amd64.zip

移动解压至 `comfyui_github_py312`



4 安装pip

下载 pip 安装脚本

https://bootstrap.pypa.io/get-pip.py

执行：

```shell
.\python_embeded\python.exe .\get-pip.py
```

修改python配置文件： python312._pth
原内容：

```shell
python312.zip
.
# Uncomment to run site.main() automatically
#import site
```

修改为：

```shell
python312.zip
.
Lib\site-packages
# Uncomment to run site.main() automatically
import site
..\ComfyUI
```

测试 pip

```shell
.\python_embeded\python.exe -m pip --version
```



5 安装 pytorch

官方文档

https://pytorch.org/get-started/locally/

```shell
pip3 install torch torchvision --index-url https://download.pytorch.org/whl/cu130
```

修改为：

```shell
.\python_embeded\python.exe -m pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu130
```



6 安装comfyui依赖

```
.\python_embeded\python.exe -m pip install -r .\ComfyUI\requirements.txt
```



7运行comfyui

```shell
.\python_embeded\python.exe -s ComfyUI\main.py --windows-standalone-build --port 8188
```

如果希望可以被其他人访问：

```shell
.\python_embeded\python.exe -s ComfyUI\main.py --windows-standalone-build --listen 0.0.0.0 --port 8188
```

