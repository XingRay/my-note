# Kotlin Compose Multiplatform下自定义字体



## 前言

如果希望自己的应用程序有比较鲜明的个人风格，那么在某些条件下我们需要自定义字体的支持，本文会介绍跨平台条件下对于自定义字体的处理

实现
字体选择
一般字体的选择在谷歌字体即可找到下载。对于非纯英语字体而言我们这里最好在左侧预览栏中打入较多文字，以观察右侧字体预览情况，因为很多字体虽然支持某些语言，但是只支持少量文字，如果测试不全面可能会下载不完整支持的字体

选择完成后下载得到ttf文件，当然这里也可以选择其他的源来得到字体文件

导入及使用
以官方指导项目初始化架构为例，Kotlin Multiplatform Wizard，将字体文件导入composeApp/src/commonMain/composeResources/font文件夹当中，重新构建，然后创建自己的字体排版组件：

```kotlin
@Composable  
fun MainTypography(): Typography {  

    val defaultFontFamily = FontFamily(  
        org.jetbrains.compose.resources.Font(  
            Res.font.your_font  
        )  
    )  
      
    return Typography(  
        bodySmall = MaterialTheme.typography.bodySmall.copy(  
            fontFamily = defaultFontFamily,  
        ),  
        bodyMedium = MaterialTheme.typography.bodyMedium.copy(  
            fontFamily = defaultFontFamily,  
        ),  
        bodyLarge = MaterialTheme.typography.bodyLarge.copy(  
            fontFamily = defaultFontFamily,  
            //fontWeight = FontWeight.Bold,  
        ),  
        titleSmall = MaterialTheme.typography.titleSmall.copy(  
            fontFamily = defaultFontFamily,  
        ),  
        titleMedium = MaterialTheme.typography.titleMedium.copy(  
            fontFamily = defaultFontFamily,  
        ),  
        titleLarge = MaterialTheme.typography.titleLarge.copy(  
            fontFamily = defaultFontFamily,  
        ),  
        headlineSmall = MaterialTheme.typography.headlineSmall.copy(  
            fontFamily = defaultFontFamily,  
        ),  
        headlineMedium = MaterialTheme.typography.headlineMedium.copy(  
            fontFamily = defaultFontFamily,  
        ),  
        headlineLarge = MaterialTheme.typography.headlineLarge.copy(  
            fontFamily = defaultFontFamily,  
        ),  
        )  

}
```

这里其实不需要将Typography所有属性全部重新生成，只需要处理你常的几个字体以及material库中使用的几个默认字体即可。最后将自定义的Typography放入主题当中即可：

```kotlin
MaterialTheme(  
	//...
    typography = MainTypography(),  
) {
//...
}
```

源码
Tomoyo

参考资料
Google Fonts
