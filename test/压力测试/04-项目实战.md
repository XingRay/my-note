## 项目实战

排查应用性能瓶颈的步骤，需要跟随请求的链路进行逐个的压力测试



| 压测内容                 | 线程数 | 吞吐量 /s | 90%相应时间 | 99%相应时间 |
| ------------------------ | ------ | --------- | ----------- | ----------- |
| nginx                    |        |           |             |             |
| gateway                  |        |           |             |             |
| /hello                   |        |           |             |             |
| /category/level/1        |        |           |             |             |
| /category/list           |        |           |             |             |
| /index.html              |        |           |             |             |
| nginx+gateway            |        |           |             |             |
| gateway+/hello           |        |           |             |             |
| nginx+gateway+index.html |        |           |             |             |



指定好测试计划进行逐一测试。中间件越多，性能损失越大。

常见的优化方式：

1. 动静分离，将静态资源由nginx处理，请求数据由tomcat服务处理
2. 增加缓存，启用模板引擎的缓存，启用本地缓存，启用分布式缓存(redis)+分布式锁(redssion) 
3. 数据库优化 增加索引

4. JVM调优，增大Eden空间，减少gc次数，注意 JVM调优主要是保证jvm的稳定性，对服务器性能提升有限。









